function uagbTimelineInit(){const e=document.querySelector("iframe[name='editor-canvas']");let t;t=(e?e.contentDocument:document).querySelectorAll(".uagb-timeline");var i=t;if(0!==i.length)for(const m of i){const d=m.querySelector(".uagb-timeline__line__inner"),u=m.querySelector(".uagb-timeline__line");var n=m.querySelectorAll(".uagb-timeline__marker"),o=m.querySelector(".uagb-timeline__field:nth-last-child(2)"),l=o||m.querySelector(".block-editor-block-list__block:last-child");const g=n[0],_=n[n.length-1];u.style.top=g?.offsetTop+"px";o=l?.offsetHeight;m.classList.contains("uagb-timeline__arrow-center")?u.style.bottom=_?.offsetTop+"px":m.classList.contains("uagb-timeline__arrow-top")?(l=o-_?.offsetTop,u.style.bottom=l+"px"):m.classList.contains("uagb-timeline__arrow-bottom")&&(r=o-_?.offsetTop,u.style.bottom=r+"px");var c,s,r=3*n[0]?.offsetHeight,a=document?.documentElement?.clientHeight/2+r,n=document.body,r=document.documentElement,n=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),r=n-_?.getBoundingClientRect()?.top,n=n-g?.getBoundingClientRect()?.top-r,r=g?.getBoundingClientRect()?.top+window?.scrollY-(window?.innerHeight-window?.innerHeight/3);r<document?.documentElement?.scrollTop&&((r=n/100*((document?.documentElement?.scrollTop-r)/n*100))<60+n&&(d.style.height=r+"px"));const b=m.querySelectorAll(".uagb-timeline__marker");let t=m.querySelectorAll(".uagb-timeline__field");0===t.length&&(t=m.querySelectorAll(".uagb-timeline__animate-border"));for(let e=0;e<b.length;e++)s=b[e].lastElementChild.getBoundingClientRect().top+window.scrollY,c=t[e].lastElementChild.getBoundingClientRect().top+window.scrollY,s=s-document.documentElement.scrollTop,c-document.documentElement.scrollTop<a?(t[e].classList.remove("out-view"),t[e].classList.add("in-view")):(t[e].classList.add("out-view"),t[e].classList.remove("in-view")),s<a?(b[e].classList.remove("uagb-timeline__out-view-icon"),b[e].classList.add("uagb-timeline__in-view-icon")):(b[e].classList.add("uagb-timeline__out-view-icon"),b[e].classList.remove("uagb-timeline__in-view-icon"))}}window.addEventListener("DOMContentLoaded",uagbTimelineInit),window.addEventListener("resize",uagbTimelineInit),window.addEventListener("scroll",uagbTimelineInit),document.addEventListener("UAGTimelineEditor",uagbTimelineInit);